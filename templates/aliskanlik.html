{% extends "layout.html" %}

{% block body %}
<div class="container" style="display: flex; flex-direction: column; gap: min(5vw,32px); padding: min(5vw,32px); background: #f2f6fc; border-radius: 18px; box-shadow: 0 4px 24px rgba(0,0,0,0.08); max-width: 900px; margin: 0 auto; box-sizing: border-box;">
    <h2 style="text-align: center; color: #2d3a4a; margin-bottom: min(3vw,24px); font-size: min(5vw,2em);">AlÄ±ÅŸkanlÄ±klarÄ±m</h2>
    
    <div style="width: 100%; max-width: 700px; margin: 0 auto;">
        <ul style="list-style: none; padding: 0; margin: 0;">
            {% if habits %}
            {% for habit in habits %} 
                {% set color_map = {'E':'#B0B0B0', 'D':'#FFD966', 'C':'#FFA500', 'B':'#FF8C00', 'A':'#FF6B6B', 'S':'#32CD32'} %}
                <li style="background: #fff; margin-bottom: 18px; padding: 0; border-radius: 14px; box-shadow: 0 2px 12px rgba(0,0,0,0.06); display: flex; align-items: stretch; justify-content: flex-start;">
                    <div style="width: 54px; min-width: 54px; display: flex; align-items: center; justify-content: center; background: {{ color_map[habit.level] }}; border-radius: 14px 0 0 14px; margin-right: 0;">
                        <span title="BaÅŸlangÄ±Ã§ Seviye" 
                            style="
                                font-weight: bold;
                                font-size: 2em;
                                color: #FFFFFF;
                                text-shadow: 1px 1px 2px rgba(0,0,0,0.2);
                            ">
                        {{ habit.level }}
                        </span>
                    </div>
                    <div style="flex: 1; padding: 12px; display: flex; flex-direction: column; justify-content: space-between;">
                      <div style="flex: 1; display: flex; flex-direction: column; justify-content: center;">
                          <span style="font-size: 1.15em; font-weight: 600; color: #2c3e50;">{{ habit.title }}</span>
                          <span style="font-size: 0.98em; color: #555; margin-top: 4px;">{{ habit.description }}</span>
                          <span style="font-size: 0.92em; color: #888; margin-top: 8px;">
                              ğŸ•’ {{ habit.streak_count }} gÃ¼ndÃ¼r sÃ¼rdÃ¼rÃ¼yorsunuz
                          </span>
                      </div>
                      <div style="display: flex; justify-content: flex-end; gap: 8px; margin-top: 8px;">
                          <a href="/duzenle_habits/{{ habit.id }}?next={{ request.path }}" style="background: #13d5e3ff; color: white; border-radius: 6px; padding: 6px 12px; font-size: 0.9em; text-decoration: none; transition: 0.2s;">DÃ¼zenle</a>
                          <a href="/sil_habits/{{ habit.id }}?next={{ request.path }}" style="background: #e74c3c; color: white; border-radius: 6px; padding: 6px 12px; font-size: 0.9em; text-decoration: none; transition: 0.2s;">Sil</a>
                      </div>
                    </div>
                </li>
            {% endfor %}
            {% else %}
                <div class="alert alert-danger">HenÃ¼z AlÄ±ÅŸkanlÄ±ÄŸÄ±nÄ±z bulunmuyor...</div>
            {% endif %}
        </ul>
        <div style="display: flex; justify-content: flex-end; margin-top: min(5vw,32px);">
            <a href="/aliskanlik_ekle" style="background: #2d7cf4; color: white; border: none; border-radius: 8px; padding: 12px 32px; font-size: 1.08em; font-weight: 500; cursor: pointer; box-shadow: 0 2px 8px rgba(45,124,244,0.12); transition: background 0.2s; text-decoration: none;">AlÄ±ÅŸkanlÄ±k Ekle</a>
        </div>
    </div>
</div>
{% endblock %}